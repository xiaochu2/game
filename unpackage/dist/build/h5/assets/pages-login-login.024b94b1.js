import{r as a,_ as e,g as s,n as t,s as o,a as r,b as m,o as l,c as n,w as u,i as d,d as f,e as i,f as c,h as p,j as h,k,l as D,m as _,p as b}from"./index-537f674e.js";import{_ as y}from"./uni-easyinput.4b89124a.js";import{_ as g,a as w}from"./uni-forms.3492ca0b.js";const V=e({data:()=>({value:!0,formData:{username:"",password:"",remember:!1}}),onShow:function(){var a=this;s({key:"token",success:function(a){t({url:"/pages/admin/home"})}}),s({key:"username",success:function(e){a.formData.username=e.data}}),s({key:"password",success:function(e){a.formData.password=e.data}})},methods:{change(){this.formData.remember=!this.formData.remember,console.log(this.formData.remember?"记住密码":"不记住密码")},submitForm(){console.log(this.formData);var e,s=this;(e=this.formData,a.request({url:"/Agent/login",method:"POST",data:e})).then((a=>{1==a.status?o({title:a.msg,icon:"error"}):(s.formData.remember?(r({key:"username",data:s.formData.username}),r({key:"password",data:s.formData.password})):(m({key:"username"}),m({key:"password"})),r({key:"token",data:a.data.token}),r({key:"name",data:s.formData.username}),t({url:"/pages/admin/home"}))}))}}},[["render",function(a,e,s,t,o,r){const m=c,V=d,v=p(h("uni-easyinput"),y),j=p(h("uni-forms-item"),g),x=k,C=D,F=_,S=p(h("uni-forms"),w),U=b;return l(),n(V,{class:"login_back"},{default:u((()=>[f(V,{class:"title_back",align:"center"},{default:u((()=>[f(m,{class:"title"},{default:u((()=>[i("代理后台")])),_:1})])),_:1}),f(V,{class:"froms"},{default:u((()=>[f(S,{modelValue:o.formData},{default:u((()=>[f(j,{label:"用户名",name:"name"},{default:u((()=>[f(v,{type:"text",modelValue:o.formData.username,"onUpdate:modelValue":e[0]||(e[0]=a=>o.formData.username=a),placeholder:"请输入用户名"},null,8,["modelValue"])])),_:1}),f(j,{label:"密码",name:"password"},{default:u((()=>[f(v,{type:"password",modelValue:o.formData.password,"onUpdate:modelValue":e[1]||(e[1]=a=>o.formData.password=a),placeholder:"请输入密码"},null,8,["modelValue"])])),_:1}),f(j,{label:"记住密码",name:"password"},{default:u((()=>[f(F,{name:"",onChange:r.change},{default:u((()=>[f(C,null,{default:u((()=>[f(x,{value:"ces",checked:o.formData.remember},null,8,["checked"]),f(m)])),_:1})])),_:1},8,["onChange"])])),_:1})])),_:1},8,["modelValue"]),f(U,{type:"primary",onClick:e[2]||(e[2]=a=>r.submitForm())},{default:u((()=>[i("登录")])),_:1})])),_:1})])),_:1})}],["__scopeId","data-v-210bebb2"]]);export{V as default};
