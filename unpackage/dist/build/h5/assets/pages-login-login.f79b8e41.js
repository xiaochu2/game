import{_ as a,g as e,n as s,s as o,a as t,r,o as m,c as l,w as n,i as u,b as d,d as f,e as i,f as c,h as p,j as h,k,l as D,m as _}from"./index-3aafcff5.js";import{_ as b}from"./uni-easyinput.f957b256.js";import{_ as y,a as w}from"./uni-forms.4d469bab.js";import{a as g}from"./api.8bb5723d.js";const V=a({data:()=>({value:!0,formData:{username:"",password:"",remember:!1}}),onShow:function(){var a=this;e({key:"token",success:function(a){s({url:"/pages/admin/home"})}}),e({key:"username",success:function(e){a.formData.username=e.data}}),e({key:"password",success:function(e){a.formData.password=e.data}})},methods:{change(){this.formData.remember=!this.formData.remember,console.log(this.formData.remember?"记住密码":"不记住密码")},submitForm(){console.log(this.formData);var a=this;g(this.formData).then((e=>{1==e.status?o({title:e.msg,icon:"error"}):(a.formData.remember?(t({key:"username",data:a.formData.username}),t({key:"password",data:a.formData.password})):(r({key:"username"}),r({key:"password"})),t({key:"token",data:e.data.token}),t({key:"name",data:a.formData.username}),s({url:"/pages/admin/home"}))}))}}},[["render",function(a,e,s,o,t,r){const g=i,V=u,j=c(p("uni-easyinput"),b),v=c(p("uni-forms-item"),y),x=h,C=k,F=D,U=c(p("uni-forms"),w),I=_;return m(),l(V,{class:"login_back"},{default:n((()=>[d(V,{class:"title_back",align:"center"},{default:n((()=>[d(g,{class:"title"},{default:n((()=>[f("代理后台")])),_:1})])),_:1}),d(V,{class:"froms"},{default:n((()=>[d(U,{modelValue:t.formData},{default:n((()=>[d(v,{label:"用户名",name:"name"},{default:n((()=>[d(j,{type:"text",modelValue:t.formData.username,"onUpdate:modelValue":e[0]||(e[0]=a=>t.formData.username=a),placeholder:"请输入用户名"},null,8,["modelValue"])])),_:1}),d(v,{label:"密码",name:"password"},{default:n((()=>[d(j,{type:"password",modelValue:t.formData.password,"onUpdate:modelValue":e[1]||(e[1]=a=>t.formData.password=a),placeholder:"请输入密码"},null,8,["modelValue"])])),_:1}),d(v,{label:"记住密码",name:"password"},{default:n((()=>[d(F,{name:"",onChange:r.change},{default:n((()=>[d(C,null,{default:n((()=>[d(x,{value:"ces",checked:t.formData.remember},null,8,["checked"]),d(g)])),_:1})])),_:1},8,["onChange"])])),_:1})])),_:1},8,["modelValue"]),d(I,{type:"primary",onClick:e[2]||(e[2]=a=>r.submitForm())},{default:n((()=>[f("登录")])),_:1})])),_:1})])),_:1})}],["__scopeId","data-v-210bebb2"]]);export{V as default};
